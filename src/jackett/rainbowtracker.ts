import { TrackerDefinition } from '../definition-interface';

export const definition: TrackerDefinition = {
  id: 'rainbowtracker',
  name: 'Rainbow Tracker',
  description: 'Rainbow Tracker is a RUSSIAN Semi-Private Torrent Tracker for LGBTQ MOVIES / TV',
  language: 'ru-RU',
  type: 'semi-private',
  encoding: 'UTF-8',
  links: ['https://gaytracker.ru/'],
  caps: {
    categorymappings: [
      { id: '3', cat: 'XXX', desc: 'Художественные гей-фильмы' },
      {
        id: '67',
        cat: 'XXX',
        desc: 'Художественные гей-фильмы - Российское гей-кино',
      },
      {
        id: '66',
        cat: 'XXX',
        desc: 'Художественные гей-фильмы - Ретро гей-фильмы',
      },
      {
        id: '65',
        cat: 'XXX',
        desc: 'Художественные гей-фильмы - Азиатские гей-фильмы',
      },
      {
        id: '63',
        cat: 'XXX',
        desc: 'Художественные гей-фильмы - Короткометражные гей-фильмы',
      },
      {
        id: '74',
        cat: 'XXX',
        desc: 'Художественные гей-фильмы - Фильмы с элементами гей-Pron ',
      },
      {
        id: '82',
        cat: 'XXX',
        desc: 'Художественные гей-фильмы - Фильмы с элементами гей-темы',
      },
      { id: '4', cat: 'XXX', desc: 'Художественные лесби-фильмы' },
      {
        id: '89',
        cat: 'XXX',
        desc: 'Художественные лесби-фильмы - Российское лесби-кино',
      },
      {
        id: '90',
        cat: 'XXX',
        desc: 'Художественные лесби-фильмы - Ретро лесби-фильмы',
      },
      {
        id: '78',
        cat: 'XXX',
        desc: 'Художественные лесби-фильмы - Азиатское лесби-кино',
      },
      {
        id: '64',
        cat: 'XXX',
        desc: 'Художественные лесби-фильмы - Короткометражные лесби-фильмы',
      },
      {
        id: '91',
        cat: 'XXX',
        desc: 'Художественные лесби-фильмы - Фильмы с элементами лесби-Pron ',
      },
      {
        id: '88',
        cat: 'XXX',
        desc: 'Художественные лесби-фильмы - Фильмы с элементами лесби-темы',
      },
      {
        id: '96',
        cat: 'XXX',
        desc: 'Художественные фильмы Транс*тематики',
      },
      { id: '5', cat: 'XXX', desc: 'Арт-хаус и авторское кино' },
      { id: '7', cat: 'XXX', desc: 'Документальные фильмы' },
      {
        id: '76',
        cat: 'XXX',
        desc: 'Документальные фильмы - Фильмы с элементами Pron ',
      },
      { id: '8', cat: 'XXX', desc: 'Мультфильмы, Аниме' },
      { id: '9', cat: 'XXX', desc: 'Эротическое видео' },
      {
        id: '71',
        cat: 'XXX',
        desc: 'Эротическое видео - Документальные фильмы',
      },
      {
        id: '72',
        cat: 'XXX',
        desc: 'Эротическое видео - Нудизм-Натуризм',
      },
      { id: '11', cat: 'XXX', desc: 'Шоу, Клипы, Музыка, Юмор и т.п.' },
      { id: '6', cat: 'XXX', desc: 'Сериалы' },
      {
        id: '80',
        cat: 'XXX',
        desc: 'Сериалы - Эпизод (серия) с гей-темой',
      },
      { id: '87', cat: 'XXX', desc: 'Сериалы - Бесстыжие / Shameless ' },
      { id: '77', cat: 'XXX', desc: 'Сериалы - В поиске / Looking ' },
      {
        id: '58',
        cat: 'XXX',
        desc: 'Сериалы - Дрянные девчонки / Bad Girls ',
      },
      { id: '56', cat: 'XXX', desc: 'Сериалы - Лузеры / Хор / Glee ' },
      { id: '49', cat: 'XXX', desc: 'Сериалы - Физика или Химия' },
      {
        id: '44',
        cat: 'XXX',
        desc: 'Сериалы - Юг нигде / South of nowhere ',
      },
      {
        id: '41',
        cat: 'XXX',
        desc: 'Сериалы - Охота на парней / Manhunt ',
      },
      {
        id: '39',
        cat: 'XXX',
        desc: 'Сериалы - Секс в другом городе / Мир Л / The L Word ',
      },
      { id: '37', cat: 'XXX', desc: 'Сериалы - Логово / The Lair ' },
      { id: '34', cat: 'XXX', desc: 'Сериалы - Бухта Данте' },
      {
        id: '29',
        cat: 'XXX',
        desc: "Сериалы - Ноев ковчег / Noah's Arc ",
      },
      {
        id: '26',
        cat: 'XXX',
        desc: 'Сериалы - Маленькая Британия / Little Britain ',
      },
      {
        id: '21',
        cat: 'XXX',
        desc: 'Сериалы - Молокососы / Skins. season ',
      },
      {
        id: '15',
        cat: 'XXX',
        desc: 'Сериалы - Близкие друзья / Queer as folk ',
      },
      { id: '25', cat: 'XXX', desc: 'Фото, Картинки' },
      { id: '10', cat: 'XXX', desc: 'Pron ' },
      { id: '16', cat: 'XXX', desc: 'Pron - Pron-Фильмы' },
      { id: '86', cat: 'XXX', desc: 'Pron - Pron-Фильмы (азиатские)' },
      { id: '53', cat: 'XXX', desc: 'Pron - Pron-Ролики' },
      { id: '20', cat: 'XXX', desc: 'Pron - Pron-Би' },
      { id: '17', cat: 'XXX', desc: 'Pron - Pron-Лесбо' },
      { id: '18', cat: 'XXX', desc: 'Pron - Pron-Транс' },
      { id: '19', cat: 'XXX', desc: 'Pron - Pron-Гетеро' },
      { id: '59', cat: 'XXX', desc: 'Pron - Pron с переводом' },
      {
        id: '81',
        cat: 'XXX',
        desc: 'Pron - Pron-Мультфильмы, Pron-Аниме',
      },
      { id: '33', cat: 'XXX', desc: 'Pron - Pron-Разное' },
      { id: '13', cat: 'XXX', desc: 'Разное' },
      {
        id: '95',
        cat: 'XXX',
        desc: 'Разное - Клипы, Трейлеры, Рекламма',
      },
      { id: '48', cat: 'XXX', desc: 'Разное - Фильмы, мультфильмы' },
      { id: '57', cat: 'XXX', desc: 'Разное - Сериалы' },
      { id: '54', cat: 'XXX', desc: 'Разное - Картинки' },
      { id: '55', cat: 'XXX', desc: 'Разное - Музыка' },
      { id: '94', cat: 'XXX', desc: 'Разное - Аудиокниги' },
      { id: '47', cat: 'XXX', desc: 'Разное - Книги' },
      { id: '46', cat: 'XXX', desc: 'Разное - Игры' },
      { id: '45', cat: 'XXX', desc: 'Разное - Программы' },
      { id: '14', cat: 'XXX', desc: 'Тестовый форум' },
      { id: '32', cat: 'XXX', desc: 'Мусорка' },
    ],
    modes: { search: ['q'], 'tv-search': ['q'], 'movie-search': ['q'] },
  },
  settings: [
    { name: 'username', type: 'text', label: 'Username' },
    { name: 'password', type: 'password', label: 'Password' },
    {
      name: 'sort',
      type: 'select',
      label: 'Sort requested from site',
      default: '1',
      options: { '1': 'created', '2': 'title', '7': 'size', '10': 'seeders' },
    },
    {
      name: 'type',
      type: 'select',
      label: 'Order requested from site',
      default: '2',
      options: { '1': 'asc', '2': 'desc' },
    },
  ],
  login: {
    path: 'forum/profile.php?mode=register',
    method: 'form',
    form: 'form[action="./login.php"]',
    inputs: {
      login_username: '{{ .Config.username }}',
      login_password: '{{ .Config.password }}',
      autologin: 1,
    },
    error: [{ selector: 'h4.warnColor1' }],
    test: {
      path: 'forum/index.php',
      selector: 'a[href="./login.php?logout=1"]',
    },
  },
  search: {
    paths: [{ path: 'forum/tracker.php' }],
    inputs: {
      $raw: '{{ if .Categories }}{{ range .Categories }}f[]={{.}}&{{end}}{{else}}f[]=-1{{end}}',
      prev_allw: 1,
      prev_a: 0,
      prev_vote: 0,
      prev_gold: 0,
      prev_silver: 0,
      prev_dla: 0,
      prev_dlc: 0,
      prev_dld: 0,
      prev_dlw: 0,
      prev_my: 0,
      prev_new: 0,
      prev_sd: 0,
      prev_da: 1,
      prev_dc: 0,
      prev_df: 1,
      prev_ds: 0,
      o: '{{ .Config.sort }}',
      s: '{{ .Config.type }}',
      dc: 0,
      df: 1,
      da: 1,
      ds: 0,
      tm: -1,
      sns: -1,
      nm: '{{ .Keywords }}',
      pn: '',
      allw: 1,
    },
    rows: {
      selector: 'tbody[id^="tor_"]:has(a[href^="./download.php?id="])',
      filters: [{ name: 'andmatch' }],
    },
    fields: {
      category: {
        selector: 'a.gen',
        attribute: 'href',
        filters: [{ name: 'querystring', args: 'f' }],
      },
      title: { selector: 'a.genmed' },
      details: { selector: 'a.genmed', attribute: 'href' },
      download: {
        selector: 'a[href^="./download.php?id="]',
        attribute: 'href',
      },
      size: { selector: 'td:nth-child(7)' },
      seeders: { selector: 'td.seedmed > b, td.icemed > b' },
      leechers: { selector: 'td.leechmed > b' },
      grabs: { selector: 'td:nth-child(10)' },
      datetime: {
        selector: 'td:last-child',
        filters: [{ name: 'regexp', args: '(\\d{2}:\\d{2})' }],
      },
      datedate: {
        selector: 'td:last-child',
        filters: [{ name: 'regexp', args: '(\\d{1,2}-\\w{3,4}-\\d{2})' }],
      },
      date: {
        text: '{{ .Result.datetime }} {{ .Result.datedate }}',
        filters: [
          { name: 'replace', args: ['Янв', 'Jan'] },
          { name: 'replace', args: ['Фев', 'Feb'] },
          { name: 'replace', args: ['Мар', 'Mar'] },
          { name: 'replace', args: ['Апр', 'Apr'] },
          { name: 'replace', args: ['Май', 'May'] },
          { name: 'replace', args: ['Июн', 'Jun'] },
          { name: 'replace', args: ['Июл', 'Jul'] },
          { name: 'replace', args: ['Авг', 'Aug'] },
          { name: 'replace', args: ['Сен', 'Sep'] },
          { name: 'replace', args: ['Окт', 'Oct'] },
          { name: 'replace', args: ['Ноя', 'Nov'] },
          { name: 'replace', args: ['Дек', 'Dec'] },
          { name: 'dateparse', args: '15:04 2-Jan-06' },
        ],
      },
      downloadvolumefactor: { text: 0 },
      uploadvolumefactor: { text: 1 },
    },
  },
  source: 'jackett',
};
